---
name: project-standards
description: é¡¹ç›®æŠ€æœ¯æ ‡å‡†ç´¢å¼•ï¼Œå®šä¹‰é¡¹ç›®çš„æŠ€æœ¯æ ˆè§„èŒƒã€ä»£ç è§„èŒƒå’Œæ¶æ„çº¦å®šã€‚æ­¤æ–‡ä»¶ç”± Evolver è‡ªåŠ¨ç»´æŠ¤æ›´æ–°ã€‚
---

# é¡¹ç›®æŠ€æœ¯æ ‡å‡†

> âš¡ é¡¹ç›®æŠ€æœ¯è§„èŒƒçš„å”¯ä¸€äº‹å®æ¥æºã€‚

## é¡¹ç›®ä¿¡æ¯

| å­—æ®µ | å€¼ |
|------|-----|
| ç‰ˆæœ¬ | 2.0.0 |

## ğŸš€ è¿›åŒ–æœºåˆ¶

> æ­¤æ–‡ä»¶æ”¯æŒè‡ªåŠ¨è¿›åŒ–ï¼ŒEvolver Agent ä¼šæ ¹æ®ä»»åŠ¡æ‰§è¡Œç»“æœè‡ªåŠ¨æ›´æ–°ä»¥ä¸‹ç« èŠ‚ã€‚

### å¯è¿›åŒ–ç« èŠ‚

| ç« èŠ‚ | è¿›åŒ–è§¦å‘æ¡ä»¶ | æ›´æ–°é¢‘ç‡ | è‡ªåŠ¨åŒ–çº§åˆ« |
|------|-------------|---------|-----------|
| æŠ€æœ¯æ ˆç‰ˆæœ¬ | ä¾èµ–ç‰ˆæœ¬å˜åŒ– | æŒ‰éœ€ | ğŸ¤– è‡ªåŠ¨ |
| å¸¸ç”¨å‘½ä»¤ | å·¥å…·é“¾å˜åŒ– | æŒ‰éœ€ | ğŸ¤– è‡ªåŠ¨ |
| æœ€ä½³å®è·µ | ä»»åŠ¡æˆåŠŸ/å¤±è´¥ç»éªŒ | æ¯æ¬¡ | ğŸ¤– è‡ªåŠ¨ |
| ä»£ç ç¤ºä¾‹ | ä»£ç ä¼˜åŒ–å‘ç° | æŒ‰éœ€ | ğŸ¤– è‡ªåŠ¨ |
| é”™è¯¯å¤„ç†è§„èŒƒ | æ–°é”™è¯¯ç±»å‹ | æŒ‰éœ€ | ğŸ¤– è‡ªåŠ¨ |
| æ¨¡å¼æ¨¡æ¿ | æ–°è®¾è®¡æ¨¡å¼ | æŒ‰éœ€ | ğŸ¤– è‡ªåŠ¨ |
| è¿›åŒ–è®°å½• | ç‰ˆæœ¬æ›´æ–° | æ¯æ¬¡ | ğŸ¤– è‡ªåŠ¨ |

### âŒ ç¦æ­¢è‡ªåŠ¨æ›´æ–°çš„ç« èŠ‚

ä»¥ä¸‹ç« èŠ‚éœ€è¦äººå·¥å®¡æ ¸åæ‰èƒ½æ›´æ–°ï¼š

| ç« èŠ‚ | åŸå›  | å¤„ç†æ–¹å¼ |
|------|------|---------|
| è·¯å¾„é…ç½® | æ¶‰åŠé¡¹ç›®ç»“æ„é‡å¤§å˜æ›´ | æ ‡è®°ä¸ºå¾…å®¡æ ¸ï¼Œäººå·¥ç¡®è®¤ |
| å‘½åçº¦å®š | å½±å“æ‰€æœ‰ä»£ç å‘½å | æ ‡è®°ä¸ºå¾…å®¡æ ¸ï¼Œäººå·¥ç¡®è®¤ |
| API è§„èŒƒ | å½±å“æ¥å£ä¸€è‡´æ€§ | æ ‡è®°ä¸ºå¾…å®¡æ ¸ï¼Œäººå·¥ç¡®è®¤ |

### è¿›åŒ–æµç¨‹

```
ä»»åŠ¡æ‰§è¡Œå®Œæˆ
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Evolver Agent      â”‚
â”‚  - åˆ†ææ‰§è¡Œç»“æœ     â”‚
â”‚  - æå–æœ€ä½³å®è·µ     â”‚
â”‚  - è¯†åˆ«æ”¹è¿›ç©ºé—´     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ¤æ–­è¿›åŒ–ç±»å‹        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€ æŠ€æœ¯æ ˆ/å‘½ä»¤/æœ€ä½³å®è·µ/ä»£ç ç¤ºä¾‹/é”™è¯¯å¤„ç† â”€â”€â”€â”
           â”‚                                              â”‚
           â–¼                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨æ›´æ–°           â”‚                    â”‚  æ ‡è®°ä¸ºå¾…å®¡æ ¸       â”‚
â”‚  - æ›´æ–°æ–‡ä»¶         â”‚                    â”‚  - æ·»åŠ å®¡æ ¸æ ‡è®°     â”‚
â”‚  - éªŒè¯å®Œæ•´æ€§       â”‚                    â”‚  - å‘é€å‘Šè­¦é€šçŸ¥     â”‚
â”‚  - è®°å½•è¿›åŒ–         â”‚                    â”‚  - ç­‰å¾…äººå·¥ç¡®è®¤     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¿›åŒ–è®°å½•æ ¼å¼

```markdown
### [æ—¥æœŸ] v[ç‰ˆæœ¬å·]
- **å˜æ›´ç±»å‹**: [æŠ€æœ¯æ ˆ/æœ€ä½³å®è·µ/é”™è¯¯å¤„ç†/å…¶ä»–]
- **å˜æ›´å†…å®¹**: [å…·ä½“æè¿°]
- **å˜æ›´åŸå› **: [ä¸ºä»€ä¹ˆéœ€è¦å˜æ›´]
- **å½±å“èŒƒå›´**: [å“ªäº›æ–‡ä»¶/åŠŸèƒ½å—å½±å“]
```

### éªŒè¯æ¸…å•

æ¯æ¬¡è¿›åŒ–åä¼šè‡ªåŠ¨éªŒè¯ä»¥ä¸‹é¡¹ç›®ï¼š

- âœ… æ–‡ä»¶ç»“æ„å®Œæ•´æ€§ï¼ˆå¿…éœ€ç« èŠ‚å­˜åœ¨ï¼‰
- âœ… ä»£ç å—å¹³è¡¡ï¼ˆæ— æœªé—­åˆçš„ä»£ç å—æ ‡è®°ï¼‰
- âœ… è·¯å¾„å˜é‡ä¸€è‡´æ€§ï¼ˆå®šä¹‰ä¸ä½¿ç”¨åŒ¹é…ï¼‰
- âœ… ç‰ˆæœ¬å·æ ¼å¼æ­£ç¡®ï¼ˆv1.x.xï¼‰
- âœ… è¿›åŒ–è®°å½•å·²æ›´æ–°

### è¿›åŒ–å†å²

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´ç±»å‹ | ä¸»è¦å˜æ›´ |
|------|------|---------|---------|
| 2026-01-19 | 2.0.0 | è·¯å¾„ | ä¿®å¤é¡¹ç›®ç»“æ„ï¼Œç§»é™¤å¤šä½™çš„ `src/` å±‚çº§ï¼Œæ”¹ä¸º `main/frontend/` å’Œ `main/backend/` |
| 2026-01-19 | 1.9.0 | è·¯å¾„ | ä¿®å¤å‰ç«¯è·¯å¾„ `{FRONTEND_ROOT}` ä¸º `main/src/frontend/` |
| 2026-01-19 | 1.7.0 | è§„èŒƒ | æ–°å¢ä¸­æ–‡ä»£ç æ³¨é‡Šè§„èŒƒï¼ˆå¿…è¦/é‡è¦/æ ¸å¿ƒä¸‰çº§ï¼‰ |
| 2026-01-18 | 1.6.0 | æœºåˆ¶ | æ–°å¢è‡ªåŠ¨è¿›åŒ–æœºåˆ¶ |
| 2026-01-18 | 1.5.0 | è·¯å¾„ | Agent æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨è·¯å¾„å˜é‡ |
| 2026-01-18 | 1.4.0 | ç»“æ„ | ç»Ÿä¸€ä½¿ç”¨ main/src/backend/ å’Œ main/src/frontend/ |

---

## ğŸ“‚ è·¯å¾„é…ç½® (å•ä¸€äº‹å®æ¥æº)

> âš ï¸ **é‡è¦**: æ‰€æœ‰ä»£ç è·¯å¾„ä»¥æ­¤é…ç½®ä¸ºå‡†ï¼Œä¿®æ”¹æ­¤å¤„å³ä¿®æ”¹å…¨å±€è·¯å¾„çº¦å®š
>
> **LLM æç¤º**: ä½¿ç”¨è·¯å¾„æ—¶ï¼Œè¯·æ ¹æ®ä¸‹æ–¹çš„ `è·¯å¾„å˜é‡` åˆ—æ›¿æ¢ `{VARIABLE}` å ä½ç¬¦

### é¡¹ç›®æ ¹è·¯å¾„å˜é‡

| å˜é‡ | å€¼ (å½“å‰é¡¹ç›®) | è¯´æ˜ |
|------|--------------|------|
| `{PROJECT_ROOT}` | `main/` | é¡¹ç›®æºç æ ¹ç›®å½• |
| `{BACKEND_ROOT}` | `main/backend/` | åç«¯ä»£ç æ ¹ç›®å½• |
| `{FRONTEND_ROOT}` | `main/frontend/` | **å‰ç«¯ä»£ç æ ¹ç›®å½•** |

### æµ‹è¯•ç›®å½•å˜é‡

| å˜é‡ | å€¼ (å½“å‰é¡¹ç›®) | è¯´æ˜ |
|------|--------------|------|
| `{TESTS_ROOT}` | `main/tests/` | æµ‹è¯•æ ¹ç›®å½• |
| `{BACKEND_TESTS}` | `main/tests/backend/` | åç«¯æµ‹è¯•ç›®å½• |
| `{FRONTEND_TESTS}` | `main/tests/frontend/` | å‰ç«¯æµ‹è¯•ç›®å½• |

### æ–‡æ¡£ç›®å½•å˜é‡

| å˜é‡ | å€¼ (å½“å‰é¡¹ç›®) | è¯´æ˜ |
|------|--------------|------|
| `{DOCS_ROOT}` | `main/docs/` | æ–‡æ¡£æ ¹ç›®å½• |
| `{PRD_DIR}` | `main/docs/prds/` | PRD æ–‡æ¡£ç›®å½• |
| `{TECH_DESIGN_DIR}` | `main/docs/tech_designs/` | æŠ€æœ¯è®¾è®¡ç›®å½• |
| `{API_DIR}` | `main/docs/api/` | API è§„èŒƒç›®å½• |
| `{REVIEW_DIR}` | `main/docs/reviews/` | ä»£ç å®¡æŸ¥ç›®å½• |
| `{TEST_REPORT_DIR}` | `main/docs/test_reports/` | æµ‹è¯•æŠ¥å‘Šç›®å½• |
| `{BUG_REPORT_DIR}` | `main/docs/bug_reports/` | Bug æŠ¥å‘Šç›®å½• |
| `{TASK_DIST_DIR}` | `main/docs/task_distribution/` | ä»»åŠ¡åˆ†é…ç›®å½• |

### åç«¯ç›®å½•ç»“æ„

| ç›®å½• | å®Œæ•´è·¯å¾„ | èŒè´£ |
|------|---------|------|
| API è·¯ç”± | `{BACKEND_ROOT}/api/routes/` | FastAPI è·¯ç”±å®šä¹‰ã€è¯·æ±‚å¤„ç† |
| ä¸šåŠ¡æœåŠ¡ | `{BACKEND_ROOT}/services/` | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€æ•°æ®å¤„ç† |
| æ•°æ®æ¨¡å‹ | `{BACKEND_ROOT}/models/` | SQLAlchemy + Pydantic æ¨¡å‹ |
| æ ¸å¿ƒé…ç½® | `{BACKEND_ROOT}/core/` | é…ç½®ã€å¼‚å¸¸ã€å®‰å…¨è®¤è¯ |
| å·¥å…·å‡½æ•° | `{BACKEND_ROOT}/utils/` | æ—¥å¿—ã€éªŒè¯ã€ä¸­é—´ä»¶ |

### å‰ç«¯ç›®å½•ç»“æ„

| ç›®å½• | å®Œæ•´è·¯å¾„ | èŒè´£ |
|------|---------|------|
| UI ç»„ä»¶ | `{FRONTEND_ROOT}/components/` | Vue ç»„ä»¶ï¼ˆé€šç”¨ + ä¸šåŠ¡ï¼‰ |
| é¡µé¢å®¹å™¨ | `{FRONTEND_ROOT}/pages/` | é¡µé¢çº§åˆ«æ ¹å®¹å™¨ç»„ä»¶ |
| çŠ¶æ€ç®¡ç† | `{FRONTEND_ROOT}/stores/` | Pinia å…¨å±€çŠ¶æ€ |
| API æœåŠ¡ | `{FRONTEND_ROOT}/services/` | HTTP è¯·æ±‚ã€æ•°æ®è½¬æ¢ |
| å·¥å…·å‡½æ•° | `{FRONTEND_ROOT}/utils/` | é€šç”¨å‡½æ•°ã€ç±»å‹å®šä¹‰ |
| è·¯ç”±é…ç½® | `{FRONTEND_ROOT}/router/` | Vue Router è·¯ç”±é…ç½® |
| æ ·å¼èµ„æº | `{FRONTEND_ROOT}/styles/` | å…¨å±€æ ·å¼ã€ä¸»é¢˜é…ç½® |
| å…¥å£æ–‡ä»¶ | `{FRONTEND_ROOT}/main.ts` | åº”ç”¨å…¥å£æ–‡ä»¶ |
| æ ¹ç»„ä»¶ | `{FRONTEND_ROOT}/App.vue` | åº”ç”¨æ ¹ç»„ä»¶ |
| æ ·å¼èµ„æº | `{FRONTEND_ROOT}/styles/` | å…¨å±€æ ·å¼ã€ä¸»é¢˜é…ç½® |

### è·¯å¾„ä½¿ç”¨ç¤ºä¾‹

```python
# åç«¯ç¤ºä¾‹
from {BACKEND_ROOT}.services.user_service import UserService
from {BACKEND_ROOT}.api.routes.user_router import router as user_router

# å‰ç«¯ç¤ºä¾‹
import {FRONTEND_ROOT}.services.userService from '@/services/userService'
import {FRONTEND_ROOT}.stores.userStore from '@/stores/userStore'
```

### è·¯å¾„é…ç½®å˜æ›´è®°å½•

| æ—¥æœŸ | ç‰ˆæœ¬ | å˜æ›´å†…å®¹ | åŸå›  |
|------|------|---------|------|
| 2026-01-18 | 1.6.0 | æ–°å¢è‡ªåŠ¨è¿›åŒ–æœºåˆ¶ï¼Œæ·»åŠ è¿›åŒ–æµç¨‹å’ŒéªŒè¯æ¸…å• | å®ç° project_standards.md è‡ªåŠ¨è¿›åŒ–èƒ½åŠ› |
| 2026-01-18 | 1.5.0 | Agent æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨è·¯å¾„å˜é‡ï¼Œç§»é™¤ç¡¬ç¼–ç è·¯å¾„ | æ¶ˆé™¤é‡å¤å®šä¹‰ï¼Œç¡®ä¿å•ä¸€äº‹å®æ¥æº |
| 2026-01-18 | 1.4.0 | ç»Ÿä¸€ä½¿ç”¨ `main/src/backend/` å’Œ `main/src/frontend/` | é¡¹ç›®ç»“æ„è°ƒæ•´ |

---

## âš¡ å¿«é€Ÿå‚è€ƒ

### ğŸ“š æŒ‰ä»»åŠ¡ç±»å‹æŸ¥æ‰¾

| ä»»åŠ¡ç±»å‹ | æŸ¥æ‰¾ç« èŠ‚ | å…³é”®æ¨¡å¼ |
|---------|---------|---------|
| åˆ›å»ºæ–° API ç«¯ç‚¹ | API è§„èŒƒ | `POST/PUT/PATCH/DELETE /api/v1/xxx` |
| æ·»åŠ å‰ç«¯é¡µé¢ | ç›®å½•ç»“æ„ â†’ å‰ç«¯ | `{FRONTEND_ROOT}/pages/xxx.vue` |
| æ·»åŠ åç«¯æœåŠ¡ | ç›®å½•ç»“æ„ â†’ åç«¯ | `{BACKEND_ROOT}/services/xxx_service.py` |
| ä¿®å¤ Bug | Git æäº¤è§„èŒƒ | `fix(scope): description` |
| æ·»åŠ æ–°åŠŸèƒ½ | Git æäº¤è§„èŒƒ | `feat(scope): description` |
| æ·»åŠ ä¾èµ– | å¸¸ç”¨å‘½ä»¤ | `poetry add xxx` / `npm install xxx` |
| æ·»åŠ æ•°æ®åº“æ¨¡å‹ | ç›®å½•ç»“æ„ â†’ åç«¯ | `{BACKEND_ROOT}/models/` |
| æ·»åŠ å·¥å…·å‡½æ•° | ç›®å½•ç»“æ„ â†’ åç«¯ | `{BACKEND_ROOT}/utils/xxx.py` |
| é”™è¯¯å¤„ç† | é”™è¯¯å¤„ç†è§„èŒƒ | `raise AppException` |

### ğŸ”§ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| åœºæ™¯ | å‰ç«¯å‘½ä»¤ | åç«¯å‘½ä»¤ |
|------|---------|---------|
| å®‰è£…ä¾èµ– | `npm install` | `poetry install` |
| å¼€å‘å¯åŠ¨ | `npm run dev` | `uvicorn {BACKEND_ROOT}.main:app --reload` |
| è¿è¡Œæµ‹è¯• | `npm run test` | `pytest` |
| ä»£ç æ£€æŸ¥ | `npm run lint` | `ruff check {BACKEND_ROOT}/` |
| ä»£ç æ ¼å¼åŒ– | `npm run format` | `ruff format {BACKEND_ROOT}/` |
| æ„å»ºç”Ÿäº§ | `npm run build` | N/A |

### ğŸŒ³ å¿«é€Ÿå†³ç­–

```
éœ€è¦æ–°å¢åŠŸèƒ½ï¼Ÿ
â”œâ”€ éœ€è¦ UI ç•Œé¢ï¼Ÿ
â”‚   â”œâ”€ æ˜¯ â†’ å‰ç«¯: {FRONTEND_ROOT}/pages/xxx.vue + {FRONTEND_ROOT}/components/xxx.vue
â”‚   â””â”€ å¦ â†’ ä»…åç«¯é€»è¾‘
â”œâ”€ éœ€è¦æ•°æ®åº“æ“ä½œï¼Ÿ
â”‚   â”œâ”€ æ˜¯ â†’ åç«¯: {BACKEND_ROOT}/services/xxx_service.py + {BACKEND_ROOT}/models/
â”‚   â””â”€ å¦ â†’ ä»…å·¥å…·å‡½æ•°: {BACKEND_ROOT}/utils/xxx.py
â””â”€ éœ€è¦æš´éœ² APIï¼Ÿ
    â””â”€ API è·¯ç”±: {BACKEND_ROOT}/api/routes/xxx_router.py
```

---

## é¡¹ç›®ä¿¡æ¯
| æ›´æ–° | 2026-01-18 |
| ç»´æŠ¤ | Evolver |

## æŠ€æœ¯æ ˆ

### å‰ç«¯
**æ ¸å¿ƒç‰¹æ€§**ï¼š
- âœ¨ **å¿«é€Ÿå¼€å‘** - Vite æé€Ÿ HMRï¼Œæ¯«ç§’çº§çƒ­æ›´æ–°
- ğŸ¯ **ç±»å‹å®‰å…¨** - TypeScript 5.x å®Œæ•´ç±»å‹æ”¯æŒ
- ğŸ“¦ **çŠ¶æ€ç®¡ç†** - Pinia è½»é‡çº§çŠ¶æ€ç®¡ç†ï¼ˆæ¯” Vuex æ›´ç®€å•ï¼‰
- ğŸš€ **è·¯ç”±ç³»ç»Ÿ** - Vue Router 4.x çµæ´»çš„è·¯ç”±ç®¡ç†
- ğŸ¤– **AI å‹å¥½** - è‡ªåŠ¨å¯¼å…¥å’Œè‡ªåŠ¨ç»„ä»¶æ³¨å†Œï¼Œå‡å°‘æ¨¡æ¿ä»£ç 
- ğŸ§ª **æµ‹è¯•å®Œæ•´** - Vitest å•å…ƒæµ‹è¯• + Playwright E2E æµ‹è¯•
- ğŸ’„ **æ ·å¼æ¡†æ¶** - Tailwind CSS åŸå­ç±» + PostCSS

**æŠ€æœ¯é€‰å‹ç†ç”±**ï¼š
1. **Vue 3** - æ¯” React æ›´è½»é‡ï¼ŒAPI æ›´ç›´è§‚ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“
2. **Vite** - æ¯” Webpack å¿« 10 å€ä»¥ä¸Šï¼Œå›½å†…æœ€å—æ¬¢è¿çš„æ„å»ºå·¥å…·
3. **Pinia** - å®˜æ–¹æ¨èï¼ŒAPI æ›´ç®€æ´ï¼ŒTypeScript æ”¯æŒæ›´å¥½
4. **unplugin** - è‡ªåŠ¨å¯¼å…¥å‡å°‘é‡å¤ä»£ç ï¼ŒAI æ›´å®¹æ˜“ç†è§£é¡¹ç›®ç»“æ„
5. **Tailwind** - å‡½æ•°å¼ CSSï¼Œå›¢é˜Ÿåä½œæ›´é«˜æ•ˆ
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue | 3.x | UI æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹å®‰å…¨ |
| Vite | 5.x | æ„å»ºå·¥å…· |
| Pinia | 2.x | çŠ¶æ€ç®¡ç† |
| Vue Router | 4.x | è·¯ç”± |
| Axios | 1.x | HTTP å®¢æˆ·ç«¯ |
| Tailwind CSS | 3.x | CSS æ¡†æ¶ |
| unplugin-auto-import | 0.x | è‡ªåŠ¨å¯¼å…¥ |
| unplugin-vue-components | 0.x | è‡ªåŠ¨ç»„ä»¶ |
| Vitest | 1.x | å•å…ƒæµ‹è¯• |
| Playwright | 1.x | E2E æµ‹è¯• |
| ESLint + Prettier | 9.x | ä»£ç è´¨é‡ |

### åç«¯ (Python + FastAPI + LangChain)

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- ğŸš€ **å¼‚æ­¥ä¼˜å…ˆ** - FastAPI å¼‚æ­¥æ¶æ„ï¼Œæ¯” Flask å¿« 10 å€
- ğŸ¤– **AI ç”Ÿæ€** - LangChain å®Œæ•´çš„å¤§æ¨¡å‹åº”ç”¨æ¡†æ¶
- ğŸ“Š **å‘é‡æ£€ç´¢** - Qdrant æœ¬åœ°å‘é‡æ•°æ®åº“ï¼Œå®Œç¾æ”¯æŒ RAG
- ğŸ’¾ **çµæ´»å­˜å‚¨** - SQLite (å¼€å‘) + PostgreSQL (ç”Ÿäº§)
- âš¡ **å¤šå±‚ç¼“å­˜** - Redis + FastAPI Cache2 + å†…å­˜ç¼“å­˜
- ğŸ“ **è‡ªåŠ¨æ–‡æ¡£** - FastAPI è‡ªåŠ¨ç”Ÿæˆ Swagger/OpenAPI æ–‡æ¡£
- â±ï¸ **åå°ä»»åŠ¡** - Celery + Redis åˆ†å¸ƒå¼ä»»åŠ¡å¤„ç†
- ğŸ§ª **æµ‹è¯•å®Œæ•´** - Pytest å•å…ƒæµ‹è¯• + è¦†ç›–ç‡æŠ¥å‘Š

**æŠ€æœ¯é€‰å‹ç†ç”±**ï¼š
1. **Python 3.10+** - AI/ML ç”Ÿæ€æœ€æˆç†Ÿï¼ŒLangChain åŸç”Ÿæ”¯æŒ
2. **FastAPI** - æ¯” Flask/Django å¿« 10 å€ï¼Œå®Œç¾æ”¯æŒå¼‚æ­¥
3. **LangChain + Qdrant** - å¤§æ¨¡å‹åº”ç”¨æ¡†æ¶ + å¼€æºå‘é‡æ•°æ®åº“ï¼ˆè‡ªæ‰˜ç®¡å‹å¥½ï¼‰
4. **SQLAlchemy 2.x** - Python ORM æœ€å¼ºå¤§ï¼Œæ”¯æŒ SQLite å’Œ PostgreSQL
5. **Pydantic 2.x** - æ•°æ®éªŒè¯æ ‡å‡†åº“ï¼Œè‡ªåŠ¨ç”Ÿæˆ JSON Schema
6. **Redis** - ç¼“å­˜ + æ¶ˆæ¯é˜Ÿåˆ— + ä¼šè¯å­˜å‚¨
7. **FastAPI Cache2** - è£…é¥°å™¨å¼ç¼“å­˜ï¼Œå¼€å‘ä¾¿æ·

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.10+ | ç¼–ç¨‹è¯­è¨€ |
| FastAPI | 0.100+ | Web æ¡†æ¶ |
| Uvicorn | 0.23+ | ASGI æœåŠ¡å™¨ |
| LangChain | 0.1+ | LLM åº”ç”¨æ¡†æ¶ |
| LangChain-Qdrant | æœ€æ–° | Qdrant é›†æˆ |
| SQLAlchemy | 2.x | ORM æ¡†æ¶ |
| Alembic | 1.x | æ•°æ®åº“è¿ç§» |
| Pydantic | 2.x | æ•°æ®éªŒè¯ |
| Qdrant-Client | 2.x | å‘é‡æ•°æ®åº“å®¢æˆ·ç«¯ |
| SQLite | 3.x | æœ¬åœ°å¼€å‘æ•°æ®åº“ |
| PostgreSQL | 16 | ç”Ÿäº§å…³ç³»æ•°æ®åº“ |
| AsyncPG | 0.28+ | PostgreSQL å¼‚æ­¥é©±åŠ¨ |
| Redis | 7.x | ç¼“å­˜ + æ¶ˆæ¯é˜Ÿåˆ— |
| FastAPI-Cache2 | 0.2+ | API å“åº”ç¼“å­˜ |
| Celery | 5.x | å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ— |
| NumPy | 1.x | æ•°å€¼è®¡ç®— |
| Sentence-Transformers | 2.x | æ–‡æœ¬å‘é‡åŒ– |
| Pytest | 7.x | å•å…ƒæµ‹è¯• |
| Ruff | 0.x | ä»£ç è´¨é‡æ£€æŸ¥ |
| Poetry | 1.x | åŒ…ç®¡ç†å·¥å…· |

## å‘½åçº¦å®š

| ç±»å‹ | è§„åˆ™ | ç¤ºä¾‹ |
|------|------|------|
| Python æ–‡ä»¶ | snake_case | `user_service.py` |
| ç±»å | PascalCase | `UserService` |
| å‡½æ•°/å˜é‡ | snake_case | `get_user_data()` |
| å¸¸é‡ | UPPER_SNAKE | `MAX_RETRY` |
| è·¯ç”± | kebab-case | `/api/v1/user-profiles` |
| è¡¨å | snake_case å¤æ•° | `user_accounts` |
| Vue ç»„ä»¶ | PascalCase | `UserProfile.vue` |
| Composable | use + PascalCase | `useUserData.ts` |

## ğŸ“ æ–‡ä»¶å‘½åé€ŸæŸ¥è¡¨

| ç›®å½• | æ–‡ä»¶ç±»å‹ | å‘½åæ¨¡å¼ | âœ… æ­£ç¡®ç¤ºä¾‹ | âŒ é”™è¯¯ç¤ºä¾‹ |
|------|---------|---------|-----------|-----------|
| **åç«¯ (FastAPI)** |
| `{BACKEND_ROOT}/api/routes/` | è·¯ç”±æ–‡ä»¶ | `{resource}_router.py` | `user_router.py` | `UserRouter.py`, `users-router.py` |
| `{BACKEND_ROOT}/services/` | æœåŠ¡æ–‡ä»¶ | `{resource}_service.py` | `user_service.py` | `UserService.py`, `userSvc.py` |
| `{BACKEND_ROOT}/models/` | æ•°æ®åº“æ¨¡å‹ | `db.py` | `db.py` | `database.py`, `models.py` |
| `{BACKEND_ROOT}/models/` | Pydantic æ¨¡å¼ | `{resource}_schema.py` | `user_schema.py` | `UserModel.py`, `userModels.py` |
| `{BACKEND_ROOT}/utils/` | å·¥å…·å‡½æ•° | `{purpose}.py` | `logger.py`, `validators.py` | `util.py`, `HelperFunctions.py` |
| `{BACKEND_ROOT}/core/` | é…ç½®æ–‡ä»¶ | `{purpose}.py` | `config.py`, `exceptions.py` | `settings.py`, `CoreConfig.py` |
| **å‰ç«¯ (Vue)** |
| `{FRONTEND_ROOT}/components/` | Vue ç»„ä»¶ | `{PascalCase}.vue` | `UserCard.vue` | `user-card.vue`, `UserCard.ts` |
| `{FRONTEND_ROOT}/pages/` | é¡µé¢ç»„ä»¶ | `{PascalCase}.vue` | `UserList.vue` | `user-list.vue`, `page_user.py` |
| `{FRONTEND_ROOT}/stores/` | Pinia store | `{camelCase}Store.ts` | `userStore.ts` | `UserStore.ts`, `user-store.js` |
| `{FRONTEND_ROOT}/services/` | API æœåŠ¡ | `{camelCase}Service.ts` | `userService.ts` | `UserService.ts`, `api_user.js` |
| `{FRONTEND_ROOT}/composables/` | Composable | `use{camelCase}.ts` | `useUserData.ts` | `userData.ts`, `UseUserData.ts` |
| `{FRONTEND_ROOT}/utils/` | å·¥å…·å‡½æ•° | `{camelCase}.ts` | `formatDate.ts` | `FormatDate.ts`, `utils.js` |
| `{FRONTEND_ROOT}/types/` | ç±»å‹å®šä¹‰ | `{PascalCase}.ts` | `UserTypes.ts` | `userTypes.js`, `types.ts` |

### å‰ç¼€/åç¼€çº¦å®š

| ç±»å‹ | å‰ç¼€/åç¼€ | ç¤ºä¾‹ |
|------|----------|------|
| Service ç±» | `{Resource}Service` | `UserService`, `PaymentService` |
| Router æ–‡ä»¶ | `_router.py` | `user_router.py`, `order_router.py` |
| Service æ–‡ä»¶ | `_service.py` | `user_service.py`, `order_service.py` |
| Schema æ–‡ä»¶ | `_schema.py` | `user_schema.py`, `order_schema.py` |
| Pinia Store | `Store` | `userStore`, `cartStore` |
| Composable | `use` | `useAuth`, `useFetch` |
| å·¥å…·å‡½æ•° | æ— ç‰¹æ®Šåç¼€ | `formatDate`, `validateEmail` |

### å¸¸é‡å‘½å

| ç±»å‹ | è§„åˆ™ | ç¤ºä¾‹ |
|------|------|------|
| é…ç½®å¸¸é‡ | UPPER_SNAKE | `MAX_RETRY_COUNT`, `DEFAULT_PAGE_SIZE` |
| ç¯å¢ƒå˜é‡ | UPPER_SNAKE | `DATABASE_URL`, `REDIS_HOST` |
| çŠ¶æ€ç  | UPPER_SNAKE | `HTTP_STATUS_OK`, `ERROR_CODE_NOT_FOUND` |

---

## ğŸ“ ä»£ç æ³¨é‡Šè§„èŒƒ

> âš ï¸ **é‡è¦**: æ‰€æœ‰ä»£ç å¿…é¡»æ·»åŠ å¿…è¦çš„ä¸­æ–‡æ³¨é‡Šï¼Œå°¤å…¶æ˜¯æ ¸å¿ƒé€»è¾‘å’Œå…³é”®å®ç°ã€‚

### æ³¨é‡Šçº§åˆ«

| çº§åˆ« | è¯´æ˜ | åœºæ™¯ |
|------|------|------|
| **å¿…è¦æ³¨é‡Š** | å¿…é¡»æ·»åŠ ï¼Œä¸åŠ æ‰£åˆ† | å‡½æ•°/æ–¹æ³•ã€ç±»ã€å¤æ‚é€»è¾‘ |
| **é‡è¦æ³¨é‡Š** | å¼ºçƒˆå»ºè®®æ·»åŠ  | ä¸šåŠ¡é€»è¾‘ã€ç®—æ³•ã€é…ç½® |
| **æ ¸å¿ƒæ³¨é‡Š** | å¿…é¡»è¯¦ç»†è¯´æ˜ | å…³é”®æµç¨‹ã€è¾¹ç•Œæƒ…å†µã€hack æ–¹æ¡ˆ |

### Python æ³¨é‡Šè§„èŒƒ

```python
# =====================================================
# æ ¸å¿ƒæ³¨é‡Šï¼šæ¨¡å—åŠŸèƒ½è¯´æ˜
# =====================================================
# ç”¨æˆ·è®¤è¯æœåŠ¡ - å¤„ç†ç”¨æˆ·ç™»å½•ã€æ³¨å†Œã€Token ç”Ÿæˆä¸éªŒè¯
# ä¾èµ–ï¼šJWT åŠ å¯†ã€bcrypt å¯†ç åŠ å¯†
# =====================================================

from datetime import datetime, timedelta


class AuthService:
    """
    è®¤è¯æœåŠ¡ç±» - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

    åŠŸèƒ½ï¼š
    1. ç”¨æˆ·ç™»å½•éªŒè¯
    2. JWT Token ç”Ÿæˆä¸åˆ·æ–°
    3. å¯†ç åŠ å¯†ä¸éªŒè¯

    ä½¿ç”¨ç¤ºä¾‹ï¼š
        service = AuthService()
        token = service.login("user@example.com", "password")
    """

    # é‡è¦æ³¨é‡Šï¼šå¸¸é‡å®šä¹‰
    TOKEN_EXPIRE_HOURS = 24  # Token è¿‡æœŸæ—¶é—´ï¼ˆå°æ—¶ï¼‰
    REFRESH_EXPIRE_DAYS = 7  # åˆ·æ–° Token è¿‡æœŸæ—¶é—´ï¼ˆå¤©ï¼‰

    def __init__(self, secret_key: str):
        """
        åˆå§‹åŒ–è®¤è¯æœåŠ¡

        Args:
            secret_key: JWT åŠ å¯†å¯†é’¥ï¼Œç”Ÿäº§ç¯å¢ƒä»ç¯å¢ƒå˜é‡è¯»å–
        """
        self.secret_key = secret_key

    async def login(self, email: str, password: str) -> dict:
        """
        ç”¨æˆ·ç™»å½• - æ ¸å¿ƒä¸šåŠ¡æ–¹æ³•

        Args:
            email: ç”¨æˆ·é‚®ç®±
            password: åŸå§‹å¯†ç ï¼ˆæœªåŠ å¯†ï¼‰

        Returns:
            dict: åŒ…å« access_token å’Œ refresh_token

        Raises:
            ValidationException: å‚æ•°éªŒè¯å¤±è´¥
            UnauthorizedException: è´¦å·æˆ–å¯†ç é”™è¯¯

        ä¸šåŠ¡æµç¨‹ï¼š
        1. æ ¡éªŒé‚®ç®±æ ¼å¼
        2. ä»æ•°æ®åº“è·å–ç”¨æˆ·
        3. éªŒè¯å¯†ç ï¼ˆbcryptï¼‰
        4. ç”Ÿæˆ JWT Token
        5. è®°å½•ç™»å½•æ—¥å¿—
        """
        # å¿…è¦æ³¨é‡Šï¼šæ ¡éªŒé‚®ç®±æ ¼å¼
        if not self._validate_email(email):
            raise ValidationException([{"field": "email", "error": "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"}])

        # é‡è¦æ³¨é‡Šï¼šæŸ¥è¯¢ç”¨æˆ·ï¼ˆä½¿ç”¨ N+1 ä¼˜åŒ–åçš„æ‰¹é‡æŸ¥è¯¢ï¼‰
        user = await self.user_repo.get_by_email(email)
        if not user:
            # æ ¸å¿ƒæ³¨é‡Šï¼šå®‰å…¨è€ƒè™‘ï¼Œä¸æç¤ºå…·ä½“é”™è¯¯ä¿¡æ¯
            raise UnauthorizedException("è´¦å·æˆ–å¯†ç é”™è¯¯")

        # å¿…è¦æ³¨é‡Šï¼šéªŒè¯å¯†ç 
        if not self._verify_password(password, user.hashed_password):
            raise UnauthorizedException("è´¦å·æˆ–å¯†ç é”™è¯¯")

        # æ ¸å¿ƒæ³¨é‡Šï¼šç”Ÿæˆ Tokenï¼Œå°è£…æ•æ„Ÿä¿¡æ¯
        access_token = self._generate_token(
            user_id=user.id,
            email=user.email,
            role=user.role
        )

        # è®°å½•ç™»å½•æ—¥å¿—
        await self._log_login(user.id, "success")

        return {
            "access_token": access_token,
            "refresh_token": self._generate_refresh_token(user.id),
            "token_type": "Bearer"
        }

    def _generate_token(self, user_id: int, email: str, role: str) -> str:
        """
        ç”Ÿæˆ JWT Token - æ ¸å¿ƒåŠ å¯†é€»è¾‘

        Args:
            user_id: ç”¨æˆ· ID
            email: ç”¨æˆ·é‚®ç®±
            role: ç”¨æˆ·è§’è‰²

        Returns:
            str: JWT Token å­—ç¬¦ä¸²

        æ ¸å¿ƒå®ç°ï¼š
        - ä½¿ç”¨ HS256 ç®—æ³•åŠ å¯†
        -  payload åŒ…å«ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
        - è®¾ç½®è¿‡æœŸæ—¶é—´é˜²æ­¢ Token æ³„éœ²
        """
        # å¿…è¦æ³¨é‡Šï¼šæ„å»º payload
        payload = {
            "sub": str(user_id),  # subject: ç”¨æˆ·æ ‡è¯†
            "email": email,
            "role": role,
            "iat": datetime.utcnow(),  # issued at: ç­¾å‘æ—¶é—´
            "exp": datetime.utcnow() + timedelta(hours=self.TOKEN_EXPIRE_HOURS)
        }

        # æ ¸å¿ƒæ³¨é‡Šï¼šJWT åŠ å¯†ç¼–ç 
        token = jwt.encode(payload, self.secret_key, algorithm="HS256")
        return token
```

### Vue/TypeScript æ³¨é‡Šè§„èŒƒ

```typescript
// =====================================================
// æ ¸å¿ƒæ³¨é‡Šï¼šç»„ä»¶åŠŸèƒ½è¯´æ˜
// =====================================================
// ç”¨æˆ·ç™»å½•è¡¨å•ç»„ä»¶
// åŠŸèƒ½ï¼šé‚®ç®±/å¯†ç ç™»å½•ã€è®°ä½æˆ‘ã€å¿˜è®°å¯†ç é“¾æ¥
// ä¾èµ–ï¼šuserStoreã€validationUtils
// =====================================================

import { ref, computed } from 'vue'
import { useRouter } from 'vue-router'
import { useUserStore } from '@/stores/userStore'
import { validateEmail, validatePassword } from '@/utils/validationUtils'

// é‡è¦æ³¨é‡Šï¼šProps ç±»å‹å®šä¹‰
interface Props {
  /** æ˜¯å¦æ˜¾ç¤ºè®°ä½æˆ‘å¤é€‰æ¡† */
  showRememberMe?: boolean
  /** ç™»å½•æˆåŠŸåçš„å›è°ƒå‡½æ•° */
  onSuccess?: (user: User) => void
  /** è‡ªå®šä¹‰ç™»å½• API åœ°å€ */
  loginApiUrl?: string
}

/**
 * ç”¨æˆ·ç™»å½•è¡¨å•ç»„ä»¶ - æ ¸å¿ƒä¸šåŠ¡ç»„ä»¶

 * ä½¿ç”¨ç¤ºä¾‹ï¼š
 * <UserLoginForm
 *   :show-remember-me="true"
 *   :on-success="handleLoginSuccess"
 * />
 */
const UserLoginForm = (props: Props) => {
  // =====================================================
  // å¿…è¦æ³¨é‡Šï¼šå“åº”å¼æ•°æ®å®šä¹‰
  // =====================================================
  const email = ref('')           // ç”¨æˆ·é‚®ç®±
  const password = ref('')        // ç”¨æˆ·å¯†ç 
  const loading = ref(false)      // åŠ è½½çŠ¶æ€
  const errorMessage = ref('')    // é”™è¯¯ä¿¡æ¯
  const rememberMe = ref(false)   // è®°ä½æˆ‘

  // =====================================================
  // æ ¸å¿ƒæ³¨é‡Šï¼šè®¡ç®—å±æ€§
  // =====================================================
  const isFormValid = computed(() => {
    // æ ¡éªŒé€»è¾‘ï¼šé‚®ç®±å’Œå¯†ç éƒ½ä¸ä¸ºç©º
    return validateEmail(email.value) && password.value.length >= 6
  })

  // =====================================================
  // å¿…è¦æ³¨é‡Šï¼šæ–¹æ³•å®šä¹‰
  // =====================================================

  /**
   * å¤„ç†ç™»å½• - æ ¸å¿ƒä¸šåŠ¡æ–¹æ³•

   * ä¸šåŠ¡æµç¨‹ï¼š
   * 1. è¡¨å•æ ¡éªŒ
   * 2. æ˜¾ç¤ºåŠ è½½çŠ¶æ€
   * 3. è°ƒç”¨ç™»å½• API
   * 4. å¤„ç†æˆåŠŸ/å¤±è´¥ç»“æœ
   */
  const handleLogin = async () => {
    // å¿…è¦æ³¨é‡Šï¼šè¡¨å•æ ¡éªŒ
    if (!isFormValid.value) {
      errorMessage.value = 'è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±å’Œå¯†ç '
      return
    }

    try {
      loading.value = true
      errorMessage.value = ''

      // æ ¸å¿ƒæ³¨é‡Šï¼šè°ƒç”¨ç™»å½• API
      const response = await fetch(props.loginApiUrl || '/api/v1/auth/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          email: email.value,
          password: password.value,
          remember: rememberMe.value
        })
      })

      // é‡è¦æ³¨é‡Šï¼šå¤„ç†å“åº”
      if (!response.ok) {
        const error = await response.json()
        throw new Error(error.message || 'ç™»å½•å¤±è´¥')
      }

      const data = await response.json()

      // æ ¸å¿ƒæ³¨é‡Šï¼šå­˜å‚¨ç”¨æˆ·ä¿¡æ¯åˆ° Pinia
      const userStore = useUserStore()
      userStore.setToken(data.access_token)
      userStore.setUser(data.user)

      // é‡è¦æ³¨é‡Šï¼šè®°ä½æˆ‘åŠŸèƒ½ - å­˜å‚¨åˆ° localStorage
      if (rememberMe.value) {
        localStorage.setItem('remember_email', email.value)
      } else {
        localStorage.removeItem('remember_email')
      }

      // å›è°ƒé€šçŸ¥
      props.onSuccess?.(data.user)

    } catch (error) {
      // æ ¸å¿ƒæ³¨é‡Šï¼šé”™è¯¯å¤„ç† - ä¸æš´éœ²æ•æ„Ÿä¿¡æ¯
      errorMessage.value = error instanceof Error ? error.message : 'ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'
    } finally {
      loading.value = false
    }
  }

  // =====================================================
  // å¿…è¦æ³¨é‡Šï¼šç”Ÿå‘½å‘¨æœŸé’©å­
  // =====================================================

  /**
   * ç»„ä»¶æŒ‚è½½æ—¶æ£€æŸ¥è®°ä½çš„é‚®ç®±
   */
  onMounted(() => {
    const savedEmail = localStorage.getItem('remember_email')
    if (savedEmail && props.showRememberMe) {
      email.value = savedEmail
      rememberMe.value = true
    }
  })

  return {
    // æ¨¡æ¿éœ€è¦ä½¿ç”¨çš„å˜é‡å’Œæ–¹æ³•
    email,
    password,
    loading,
    errorMessage,
    rememberMe,
    isFormValid,
    handleLogin
  }
}

export default UserLoginForm
```

### æ³¨é‡Šæ£€æŸ¥æ¸…å•

| æ£€æŸ¥é¡¹ | æè¿° |
|--------|------|
| âœ… æ–‡ä»¶å¤´æ³¨é‡Š | æ¯ä¸ªæ–‡ä»¶å¿…é¡»æœ‰åŠŸèƒ½è¯´æ˜ã€ä½œè€…ã€åˆ›å»ºæ—¶é—´ |
| âœ… ç±»æ³¨é‡Š | æ¯ä¸ªç±»å¿…é¡»æœ‰ç”¨é€”è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹ |
| âœ… å‡½æ•°æ³¨é‡Š | æ¯ä¸ªå‡½æ•°å¿…é¡»æœ‰å‚æ•°ã€è¿”å›å€¼ã€å¼‚å¸¸è¯´æ˜ |
| âœ… æ ¸å¿ƒé€»è¾‘æ³¨é‡Š | å…³é”®ç®—æ³•ã€ä¸šåŠ¡æµç¨‹å¿…é¡»æœ‰ä¸­æ–‡æ³¨é‡Š |
| âœ… è¾¹ç•Œæƒ…å†µæ³¨é‡Š | ç‰¹æ®Šè¾“å…¥ã€å¼‚å¸¸å¤„ç†å¿…é¡»æœ‰è¯´æ˜ |
| âœ… TODO æ³¨é‡Š | æœªå®Œæˆçš„ä»£ç å¿…é¡»æœ‰ TODO è¯´æ˜ |

### ä¸éœ€è¦æ³¨é‡Šçš„æƒ…å†µ

| æƒ…å†µ | è¯´æ˜ |
|------|------|
| ç®€å• Getter/Setter | `getName() { return this.name }` |
| æ˜¾è€Œæ˜“è§çš„å˜é‡ | `const items = []` |
| é€šç”¨æ¨¡æ¿ä»£ç  | Vue ç»„ä»¶çš„åŸºæœ¬ç»“æ„ |
| ç¬¬ä¸‰æ–¹åº“è°ƒç”¨ | éµå¾ªåŸåº“æ–‡æ¡£å³å¯ |

---

## API è§„èŒƒ

```
GET    /api/v1/users          # åˆ—è¡¨
GET    /api/v1/users/:id      # è¯¦æƒ…
POST   /api/v1/users          # åˆ›å»º
PATCH  /api/v1/users/:id      # æ›´æ–°
DELETE /api/v1/users/:id      # åˆ é™¤ï¼ˆè½¯åˆ é™¤ï¼‰
```

å“åº”æ ¼å¼ï¼š
```json
{ "code": 200, "message": "success", "data": {} }
```

## ç›®å½•ç»“æ„

### å‰ç«¯ (Vue 3 + Vite) - `{FRONTEND_ROOT}` ä¸‹çš„ç»“æ„

```
{FRONTEND_ROOT}/
â”œâ”€â”€ components/      # UI ç»„ä»¶åº“
â”‚                    # èŒè´£ï¼šæ‰€æœ‰ Vue ç»„ä»¶ï¼ˆé€šç”¨ + ä¸šåŠ¡ï¼‰
â”‚                    # è¾¹ç•Œï¼šçº¯ UI æ¸²æŸ“ï¼Œä¸å«ä¸šåŠ¡é€»è¾‘
â”‚
â”œâ”€â”€ pages/          # é¡µé¢å®¹å™¨
â”‚                    # èŒè´£ï¼šé¡µé¢çº§åˆ«çš„æ ¹å®¹å™¨ç»„ä»¶
â”‚                    # è¾¹ç•Œï¼šç»„ç»‡ components + composables
â”‚
â”œâ”€â”€ services/       # API & ä¸šåŠ¡æœåŠ¡
â”‚                    # èŒè´£ï¼šHTTP è¯·æ±‚ã€å¤–éƒ¨ API è°ƒç”¨ã€æ•°æ®è½¬æ¢
â”‚                    # è¾¹ç•Œï¼šä¸æ¶‰åŠ UI çŠ¶æ€ï¼Œåªå¤„ç†æ•°æ®æµ
â”‚
â”œâ”€â”€ stores/         # Pinia çŠ¶æ€ç®¡ç†
â”‚                    # èŒè´£ï¼šåº”ç”¨å…¨å±€çŠ¶æ€ã€ç¼“å­˜çŠ¶æ€ã€è·¨é¡µé¢é€šä¿¡
â”‚                    # è¾¹ç•Œï¼šåªå­˜å‚¨éœ€è¦å¤šå¤„ä½¿ç”¨çš„çŠ¶æ€
â”‚
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°åº“
â”‚                    # èŒè´£ï¼šé€šç”¨å‡½æ•°ã€ç±»å‹å®šä¹‰ã€å¸¸é‡ã€helpers
â”‚                    # è¾¹ç•Œï¼šæ— ä¾èµ–ã€çº¯å‡½æ•°ã€å¯å¤ç”¨ä»£ç 
â”‚
â”œâ”€â”€ styles/         # æ ·å¼ & èµ„æº
â”‚                    # èŒè´£ï¼šå…¨å±€æ ·å¼ã€èµ„æºæ–‡ä»¶ (assets)ã€ä¸»é¢˜é…ç½®
â”‚                    # è¾¹ç•Œï¼šåªæ”¾æ ·å¼å’Œé™æ€èµ„æºï¼Œä¸æ”¾é€»è¾‘ä»£ç 
â”‚
â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚                    # èŒè´£ï¼šVue Router è·¯ç”±å®šä¹‰
â”‚                    # è¾¹ç•Œï¼šè·¯ç”±è§„åˆ™ï¼Œä¸æ¶‰åŠä¸šåŠ¡é€»è¾‘
â”‚
â”œâ”€â”€ main.ts         # åº”ç”¨å…¥å£
â”‚                    # èŒè´£ï¼šVue åº”ç”¨åˆå§‹åŒ–
â”‚
â”œâ”€â”€ App.vue         # æ ¹ç»„ä»¶
â”‚                    # èŒè´£ï¼šåº”ç”¨é¡¶å±‚ç»„ä»¶
â”‚
â”œâ”€â”€ index.html      # HTML å…¥å£
â”‚                    # èŒè´£ï¼šé¡µé¢éª¨æ¶ï¼ŒæŒ‚è½½ Vue åº”ç”¨
â”‚
â”œâ”€â”€ package.json    # é¡¹ç›®é…ç½®
â”‚                    # èŒè´£ï¼šä¾èµ–ç®¡ç†ã€è„šæœ¬å‘½ä»¤
â”‚
â”œâ”€â”€ vite.config.ts  # Vite é…ç½®
â”‚                    # èŒè´£ï¼šæ„å»ºå·¥å…·é…ç½®
â”‚
â””â”€â”€ tsconfig.json   # TypeScript é…ç½®
                    # èŒè´£ï¼šç±»å‹æ£€æŸ¥ã€ç¼–è¯‘é€‰é¡¹
```

### åç«¯ (Python FastAPI) - 6 ä¸ªç›®å½•

```
src/
â”œâ”€â”€ api/            # è·¯ç”±å±‚
â”‚                    # èŒè´£ï¼šFastAPI è·¯ç”±å®šä¹‰ã€è¯·æ±‚å¤„ç†ã€å“åº”è¿”å›
â”‚                    # è¾¹ç•Œï¼šåªåšè¯·æ±‚/å“åº”è½¬æ¢ï¼Œä¸šåŠ¡é€»è¾‘å§”æ‰˜ç»™ services
â”‚                    # å†…å®¹ï¼šroutes/users.py, routes/products.py ...
â”‚
â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚                    # èŒè´£ï¼šæ•°æ®åº“æ¨¡å‹ + Pydantic æ¨¡å‹
â”‚                    # è¾¹ç•Œï¼šå®šä¹‰æ•°æ®ç»“æ„ï¼Œä¸å«ä¸šåŠ¡é€»è¾‘
â”‚                    # å†…å®¹ï¼šdb.py (SQLAlchemy) + schema.py (Pydantic)
â”‚
â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘å±‚
â”‚                    # èŒè´£ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€æ•°æ®å¤„ç†ã€LLM è°ƒç”¨ã€RAGã€ä»»åŠ¡
â”‚                    # è¾¹ç•Œï¼šä¸æ•°æ®åº“äº¤äº’ï¼Œå¤„ç†å¤æ‚ä¸šåŠ¡æµç¨‹
â”‚                    # å†…å®¹ï¼šuser_svc.py, llm_svc.py, rag_svc.py ç­‰
â”‚
â”œâ”€â”€ core/           # æ ¸å¿ƒé…ç½®
â”‚                    # èŒè´£ï¼šç¯å¢ƒé…ç½®ã€å¼‚å¸¸å®šä¹‰ã€å®‰å…¨è®¤è¯ã€ä¾èµ–æ³¨å…¥
â”‚                    # è¾¹ç•Œï¼šé¡¹ç›®å…¨å±€çš„é™æ€é…ç½®å’Œå·¥å…·ç±»
â”‚                    # å†…å®¹ï¼šconfig.py, exceptions.py, security.py
â”‚
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°åº“
â”‚                    # èŒè´£ï¼šæ—¥å¿—ã€éªŒè¯ã€ä¸­é—´ä»¶ã€helpersã€ç¼“å­˜å·¥å…·
â”‚                    # è¾¹ç•Œï¼šæ— ä¸šåŠ¡é€»è¾‘çš„å·¥å…·ä»£ç ï¼Œå¯å¤ç”¨
â”‚                    # å†…å®¹ï¼šlogger.py, validators.py, middleware/ ç­‰
â”‚
â””â”€â”€ tests/          # æµ‹è¯•ç”¨ä¾‹
                    # èŒè´£ï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€æµ‹è¯•å·¥å…·
                    # è¾¹ç•Œï¼šæµ‹è¯•ä»£ç ä¸“åŒºï¼Œä¸å½±å“ç”Ÿäº§ä»£ç 
                    # å†…å®¹ï¼štest_api/, test_services/, conftest.py
```

**è¡¥å……è¯´æ˜**ï¼š
- é¡¹ç›®æ ¹ç›®å½•ï¼š`main.py`ã€`requirements.txt`ã€`pyproject.toml`ã€`.env.example`ã€`alembic/`

## ğŸŒ³ å†³ç­–æ ‘

### æ–°åŠŸèƒ½å¼€å‘å†³ç­–

```
éœ€è¦æ–°å¢åŠŸèƒ½ï¼Ÿ
â”‚
â”œâ”€ éœ€è¦ UI ç•Œé¢ï¼Ÿ
â”‚   â”œâ”€ æ˜¯ â†’ å‰ç«¯å¼€å‘
â”‚   â”‚   â”œâ”€ é€šç”¨ UI ç»„ä»¶ â†’ `{FRONTEND_ROOT}/components/`
â”‚   â”‚   â”‚   â””â”€ å‘½å: PascalCase (e.g., UserCard.vue)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€ é¡µé¢çº§åˆ« â†’ `{FRONTEND_ROOT}/pages/`
â”‚   â”‚   â”‚   â””â”€ å‘½å: PascalCase (e.g., UserList.vue)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€ è·¨é¡µé¢çŠ¶æ€ â†’ `{FRONTEND_ROOT}/stores/`
â”‚   â”‚   â”‚   â””â”€ å‘½å: camelCase + Store (e.g., userStore.ts)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€ API è°ƒç”¨ â†’ `{FRONTEND_ROOT}/services/`
â”‚   â”‚       â””â”€ å‘½å: camelCase + Service (e.g., userService.ts)
â”‚   â”‚
â”‚   â””â”€ å¦ â†’ ä»…åç«¯é€»è¾‘
â”‚
â”œâ”€ éœ€è¦æ•°æ®åº“æ“ä½œï¼Ÿ
â”‚   â”œâ”€ æ˜¯ â†’ åç«¯å¼€å‘
â”‚   â”‚   â”œâ”€ æ•°æ®æ¨¡å‹ â†’ `{BACKEND_ROOT}/models/`
â”‚   â”‚   â”‚   â”œâ”€ db.py (SQLAlchemy models)
â”‚   â”‚   â”‚   â””â”€ schema.py (Pydantic models)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€ ä¸šåŠ¡é€»è¾‘ â†’ `{BACKEND_ROOT}/services/`
â”‚   â”‚   â”‚   â””â”€ å‘½å: snake_case + _service (e.g., user_service.py)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€ API è·¯ç”± â†’ `{BACKEND_ROOT}/api/routes/`
â”‚   â”‚       â””â”€ å‘½å: snake_case + _router (e.g., user_router.py)
â”‚   â”‚
â”‚   â””â”€ å¦ â†’ ä»…å·¥å…·å‡½æ•°
â”‚       â””â”€ â†’ `{BACKEND_ROOT}/utils/`
â”‚           â””â”€ å‘½å: snake_case (e.g., logger.py, validators.py)
â”‚
â””â”€ éœ€è¦æš´éœ² APIï¼Ÿ
    â””â”€ â†’ `{BACKEND_ROOT}/api/routes/xxx_router.py`
```

### é”™è¯¯å¤„ç†å†³ç­–

```
å‘ç”Ÿé”™è¯¯ï¼Ÿ
â”‚
â”œâ”€ è¾“å…¥éªŒè¯é”™è¯¯ (400) â†’ raise ValidationException
â”‚
â”œâ”€ èµ„æºä¸å­˜åœ¨ (404) â†’ raise NotFoundException
â”‚
â”œâ”€ æœªæˆæƒ (401) â†’ raise UnauthorizedException
â”‚
â”œâ”€ ç¦æ­¢è®¿é—® (403) â†’ raise ForbiddenException
â”‚
â”œâ”€ ä¸šåŠ¡å†²çª (409) â†’ raise ConflictException
â”‚
â””â”€ æœåŠ¡å™¨é”™è¯¯ (500) â†’ raise InternalException
```

### Git Commit å†³ç­–

```
ä»£ç å˜æ›´ç±»å‹ï¼Ÿ
â”‚
â”œâ”€ æ–°åŠŸèƒ½ â†’ feat(scope): description
â”‚   â””â”€ ç¤ºä¾‹: feat(user): add login API
â”‚
â”œâ”€ ä¿®å¤ Bug â†’ fix(scope): description
â”‚   â””â”€ ç¤ºä¾‹: fix(auth): resolve token expiration bug
â”‚
â”œâ”€ æ–‡æ¡£æ›´æ–° â†’ docs(scope): description
â”‚   â””â”€ ç¤ºä¾‹: docs(readme): update installation guide
â”‚
â”œâ”€ ä»£ç æ ¼å¼ â†’ style(scope): description
â”‚   â””â”€ ç¤ºä¾‹: style(api): format code with ruff
â”‚
â”œâ”€ é‡æ„ä»£ç  â†’ refactor(scope): description
â”‚   â””â”€ ç¤ºä¾‹: refactor(utils): optimize validation logic
â”‚
â”œâ”€ æ·»åŠ æµ‹è¯• â†’ test(scope): description
â”‚   â””â”€ ç¤ºä¾‹: test(service): add user creation test
â”‚
â””â”€ å·¥å…·/é…ç½® â†’ chore(scope): description
    â””â”€ ç¤ºä¾‹: chore(ci): update github workflow
```

---

## ğŸš¨ é”™è¯¯å¤„ç†è§„èŒƒ

### HTTP çŠ¶æ€ç 

| åœºæ™¯ | çŠ¶æ€ç  | é”™è¯¯ç  |
|------|--------|--------|
| æˆåŠŸ | 200 | `success` |
| åˆ›å»ºæˆåŠŸ | 201 | `created` |
| å®¢æˆ·ç«¯é”™è¯¯ | 400 | `bad_request` |
| æœªæˆæƒ | 401 | `unauthorized` |
| èµ„æºä¸å­˜åœ¨ | 404 | `not_found` |
| ç¦æ­¢è®¿é—® | 403 | `forbidden` |
| å†²çª | 409 | `conflict` |
| æœåŠ¡å™¨é”™è¯¯ | 500 | `internal_error` |

### é”™è¯¯å“åº”æ ¼å¼

```json
{
  "code": 404,
  "message": "User not found",
  "details": {
    "resource": "user",
    "resource_id": 123
  }
}
```

### å¼‚å¸¸ç±»å®šä¹‰

```python
# ğŸ“ {BACKEND_ROOT}/core/exceptions.py

from fastapi import HTTPException, status


class AppException(HTTPException):
    """åŸºç¡€å¼‚å¸¸ç±»"""
    def __init__(self, code: str, message: str, details: dict = None, status_code: int = status.HTTP_500_INTERNAL_SERVER_ERROR):
        self.code = code
        self.message = message
        self.details = details
        super().__init__(status_code=status_code, detail=message)


class NotFoundException(AppException):
    """èµ„æºä¸å­˜åœ¨ (404)"""
    def __init__(self, resource: str, resource_id: int):
        super().__init__(
            code="not_found",
            message=f"{resource} with id {resource_id} not found",
            details={"resource": resource, "resource_id": resource_id},
            status_code=status.HTTP_404_NOT_FOUND
        )


class ValidationException(AppException):
    """æ•°æ®éªŒè¯é”™è¯¯ (400)"""
    def __init__(self, field_errors: list):
        super().__init__(
            code="validation_error",
            message="Validation failed",
            details={"field_errors": field_errors},
            status_code=status.HTTP_400_BAD_REQUEST
        )


class UnauthorizedException(AppException):
    """æœªæˆæƒ (401)"""
    def __init__(self, message: str = "Unauthorized"):
        super().__init__(
            code="unauthorized",
            message=message,
            status_code=status.HTTP_401_UNAUTHORIZED
        )


class ForbiddenException(AppException):
    """ç¦æ­¢è®¿é—® (403)"""
    def __init__(self, message: str = "Forbidden"):
        super().__init__(
            code="forbidden",
            message=message,
            status_code=status.HTTP_403_FORBIDDEN
        )


class ConflictException(AppException):
    """ä¸šåŠ¡å†²çª (409)"""
    def __init__(self, message: str):
        super().__init__(
            code="conflict",
            message=message,
            status_code=status.HTTP_409_CONFLICT
        )


class InternalException(AppException):
    """æœåŠ¡å™¨é”™è¯¯ (500)"""
    def __init__(self, message: str = "Internal server error"):
        super().__init__(
            code="internal_error",
            message=message,
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR
        )
```

### ä½¿ç”¨ç¤ºä¾‹

```python
# ğŸ“ {BACKEND_ROOT}/api/routes/users.py

from {BACKEND_ROOT}.core.exceptions import NotFoundException, ValidationException


@router.get("/{user_id}")
async def get_user(user_id: int) -> UserResponse:
    user = await user_service.get(user_id)
    if not user:
        raise NotFoundException("user", user_id)
    return user


@router.post("")
async def create_user(data: UserCreate) -> UserResponse:
    # éªŒè¯æ•°æ®
    if not data.email:
        raise ValidationException([{"field": "email", "error": "Email is required"}])
    
    # åˆ›å»ºç”¨æˆ·
    return await user_service.create(data)
```

---

## ğŸ”§ æ¨¡å¼æ¨¡æ¿

### API CRUD æ¨¡æ¿

```python
# ğŸ“ {BACKEND_ROOT}/api/routes/{resource}_router.py

from fastapi import APIRouter, HTTPException, status
from {BACKEND_ROOT}.models.schema import {Resource}Create, {Resource}Update, {Resource}Response
from {BACKEND_ROOT}.services.{resource}_service import {Resource}Service
from {BACKEND_ROOT}.core.exceptions import NotFoundException

router = APIRouter(prefix="/api/v1/{resources}", tags=["{Resources}"])


@router.get("", response_model=list[{Resource}Response])
async def list_{resources}() -> list[{Resource}Response]:
    """åˆ—å‡ºæ‰€æœ‰ {resources}"""
    return await {Resource}Service.list()


@router.get("/{id}", response_model={Resource}Response)
async def get_{resource}(id: int) -> {Resource}Response:
    """è·å–å•ä¸ª {resource}"""
    resource = await {Resource}Service.get(id)
    if not resource:
        raise NotFoundException("{resource}", id)
    return resource


@router.post("", response_model={Resource}Response, status_code=status.HTTP_201_CREATED)
async def create_{resource}(data: {Resource}Create) -> {Resource}Response:
    """åˆ›å»º {resource}"""
    return await {Resource}Service.create(data)


@router.patch("/{id}", response_model={Resource}Response)
async def update_{resource}(id: int, data: {Resource}Update) -> {Resource}Response:
    """æ›´æ–° {resource}"""
    return await {Resource}Service.update(id, data)


@router.delete("/{id}", status_code=status.HTTP_204_NO_CONTENT)
async def delete_{resource}(id: int):
    """åˆ é™¤ {resource} (è½¯åˆ é™¤)"""
    await {Resource}Service.soft_delete(id)
```

### Service æ¨¡æ¿

```python
# ğŸ“ {BACKEND_ROOT}/services/{resource}_service.py

from typing import Optional, list
from {BACKEND_ROOT}.models.schema import {Resource}Create, {Resource}Update, {Resource}Response


class {Resource}Service:
    """{Resource} æœåŠ¡å±‚"""
    
    @staticmethod
    async def list() -> list[{Resource}Response]:
        """åˆ—å‡ºæ‰€æœ‰èµ„æº"""
        ...
    
    @staticmethod
    async def get(id: int) -> Optional[{Resource}Response]:
        """è·å–å•ä¸ªèµ„æº"""
        ...
    
    @staticmethod
    async def create(data: {Resource}Create) -> {Resource}Response:
        """åˆ›å»ºèµ„æº"""
        ...
    
    @staticmethod
    async def update(id: int, data: {Resource}Update) -> {Resource}Response:
        """æ›´æ–°èµ„æº"""
        ...
    
    @staticmethod
    async def soft_delete(id: int) -> None:
        """è½¯åˆ é™¤èµ„æº"""
        ...
```

### Vue ç»„ä»¶æ¨¡æ¿

```vue
<!-- ğŸ“ {FRONTEND_ROOT}/components/{PascalCase}.vue -->

<script setup lang="ts">
// å¯¼å…¥ç±»å‹å’Œ props
interface Props {
  // å®šä¹‰ props
}

const props = defineProps<Props>()

// å¯¼å…¥ composables
// const { xxx } = useXxx()

// å®šä¹‰ emits
// const emit = defineEmits<{ xxx: [value: type] }>()

// å“åº”å¼æ•°æ®
// const count = ref(0)

// è®¡ç®—å±æ€§
// const doubleCount = computed(() => count.value * 2)

// æ–¹æ³•
// const handleClick = () => { ... }

// ç”Ÿå‘½å‘¨æœŸ
// onMounted(() => { ... })
</script>

<template>
  <div class="{kebab-case}">
    <!-- æ¨¡æ¿å†…å®¹ -->
  </div>
</template>

<style scoped>
.{kebab-case} {
  /* æ ·å¼ */
}
</style>
```

### Pydantic Schema æ¨¡æ¿

```python
# ğŸ“ {BACKEND_ROOT}/models/schema.py

from datetime import datetime
from pydantic import BaseModel, Field
from typing import Optional


class {Resource}Base(BaseModel):
    """åŸºç¡€æ¨¡å‹"""
    ...


class {Resource}Create({Resource}Base):
    """åˆ›å»ºæ¨¡å‹"""
    ...


class {Resource}Update(BaseModel):
    """æ›´æ–°æ¨¡å‹"""
    ...


class {Resource}Response({Resource}Base):
    """å“åº”æ¨¡å‹"""
    id: int
    created_at: datetime
    updated_at: datetime

    class Config:
        from_attributes = True
```

---

## æœ€ä½³å®è·µ

### æ•°æ®åº“ç­–ç•¥

| ç¯å¢ƒ | æ•°æ®åº“ | é€‚ç”¨åœºæ™¯ |
|------|------|--------|
| å¼€å‘ | PostgreSQL | æœ¬åœ°å¼€å‘ã€å¿«é€Ÿæµ‹è¯•ã€æ¼”ç¤º |
| æµ‹è¯• | PostgreSQL | å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯• |
| ç”Ÿäº§ | PostgreSQL | å¹¶å‘å¤„ç†ã€äº‹åŠ¡ã€æ•°æ®å®‰å…¨ |

### ç¼“å­˜åˆ†å±‚ç­–ç•¥

```
L1 ç¼“å­˜ï¼ˆæœ€å¿«ï¼‰: å†…å­˜ç¼“å­˜ (FastAPI Cache2)
    â””â”€ å•æœåŠ¡å™¨è¿›ç¨‹çº§
    â””â”€ é€‚åˆï¼šåŒè¿›ç¨‹å†…çš„é¢‘ç¹æ•°æ®
    
L2 ç¼“å­˜ï¼ˆå¿«ï¼‰: Redis
    â””â”€ åˆ†å¸ƒå¼ã€è·¨æœåŠ¡å™¨
    â””â”€ é€‚åˆï¼šçƒ­ç‚¹æ•°æ®ã€ä¼šè¯ã€çŠ¶æ€
    
L3 ç¼“å­˜ï¼ˆå®Œæ•´ï¼‰: æ•°æ®åº“
    â””â”€ æŒä¹…åŒ–å­˜å‚¨
    â””â”€ é€‚åˆï¼šæ‰€æœ‰æ•°æ®
```

### FastAPI Cache2 ä½¿ç”¨ç¤ºä¾‹

```python
# ğŸ“ {BACKEND_ROOT}/api/endpoints/cache_example.py

from fastapi_cache2 import FastAPICache2
from fastapi_cache2.backends.redis import RedisBackend
from fastapi_cache2.decorators import cache

# ç®€å•ç¼“å­˜ 60 ç§’
@app.get("/users/{user_id}")
@cache(expire=60)
async def get_user(user_id: int):
    return await db.get_user(user_id)

# è‡ªå®šä¹‰ç¼“å­˜ key
@app.get("/search")
@cache(expire=300, namespace="search")
async def search(q: str):
    return await db.search(q)
```

### å‘é‡æ•°æ®åº“ (Qdrant) ä¸ LangChain é›†æˆ

```python
# ğŸ“ {BACKEND_ROOT}/services/rag_service.py

from langchain.vectorstores import Qdrant
from langchain.embeddings import HuggingFaceEmbeddings
from qdrant_client import QdrantClient

# åˆå§‹åŒ–åµŒå…¥æ¨¡å‹
embeddings = HuggingFaceEmbeddings(
    model_name="sentence-transformers/all-MiniLM-L6-v2"
)

# è¿æ¥ Qdrant
client = QdrantClient(
    host="localhost",
    port=6333,
    # æˆ–ä½¿ç”¨å†…å­˜æ¨¡å¼ï¼špath="./qdrant_storage"
)

# åˆ›å»ºå‘é‡å­˜å‚¨
vector_store = Qdrant(
    client=client,
    collection_name="my_collection",
    embeddings=embeddings,
)

# RAG åº”ç”¨
documents = ["æ–‡æœ¬ 1", "æ–‡æœ¬ 2", "æ–‡æœ¬ 3"]
vector_store.add_texts(documents)

# å‘é‡æ£€ç´¢
results = vector_store.similarity_search("æŸ¥è¯¢æ–‡æœ¬", k=3)
```

### å¼‚æ­¥æ•°æ®åº“è¿æ¥

```python
# ğŸ“ {BACKEND_ROOT}/core/database.py

from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession

# PostgreSQL å¼‚æ­¥è¿æ¥
engine = create_async_engine(
    "postgresql+asyncpg://user:password@localhost/dbname",
    echo=False,
    pool_size=20,
    max_overflow=0,
)

# SQLite å¼‚æ­¥è¿æ¥
engine = create_async_engine(
    "sqlite+aiosqlite:///./test.db",
)

# å¼‚æ­¥æŸ¥è¯¢
async with AsyncSession(engine) as session:
    user = await session.get(User, user_id)
```

### åå°ä»»åŠ¡ (Celery)

```python
# ğŸ“ {BACKEND_ROOT}/tasks/embedding_tasks.py

from celery import Celery

celery_app = Celery(
    "tasks",
    broker="redis://localhost:6379",
    backend="redis://localhost:6379"
)

# å¼‚æ­¥ä»»åŠ¡
@celery_app.task
def process_embedding(text: str):
    # é•¿æµç¨‹ä»»åŠ¡
    embedding = model.encode(text)
    return embedding

# åœ¨ FastAPI ä¸­è°ƒç”¨
@app.post("/process")
async def process(text: str):
    task = process_embedding.delay(text)
    return {"task_id": task.id}
```

## Git æäº¤è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤
docs: æ–‡æ¡£
style: æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•
chore: å·¥å…·
```

## å¸¸ç”¨å‘½ä»¤

### å‰ç«¯ (Vue 3 + Vite + TypeScript)

```bash
# åˆ›å»ºæ–°é¡¹ç›®
npm create vite@latest my-app -- --template vue-ts

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘ç¯å¢ƒå¯åŠ¨
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview

# è¿è¡Œæµ‹è¯•
npm run test

# ä»£ç æ£€æŸ¥
npm run lint

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

### åˆå§‹åŒ– package.json ä¾èµ–

```bash
npm install vue@3 pinia vue-router axios
npm install -D typescript vite @vitejs/plugin-vue
npm install -D unplugin-auto-import unplugin-vue-components
npm install -D vitest @vitest/ui playwright
npm install -D eslint prettier eslint-plugin-vue
npm install -D tailwindcss postcss autoprefixer
```

### åç«¯ (Python FastAPI + LangChain)

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (macOS/Linux)
source venv/bin/activate

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Windows)
venv\Scripts\activate

# ä½¿ç”¨ Poetry åˆ›å»ºé¡¹ç›®
poetry new backend

# ä½¿ç”¨ Poetry å®‰è£…ä¾èµ–
poetry install

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000

# æ•°æ®åº“åˆå§‹åŒ–
alembic init alembic

# åˆ›å»ºè¿ç§»è„šæœ¬
alembic revision --autogenerate -m "Initial migration"

# æ‰§è¡Œè¿ç§»
alembic upgrade head

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src --cov-report=html

# ä»£ç è´¨é‡æ£€æŸ¥
ruff check src/

# ä»£ç æ ¼å¼åŒ–
ruff format src/

# å¯åŠ¨ Celery worker
celery -A src.tasks worker --loglevel=info

# å¯åŠ¨ Celery beat (å®šæ—¶ä»»åŠ¡)
celery -A src.tasks beat --loglevel=info
```

### åˆå§‹åŒ– Python ä¾èµ– (Poetry)

```bash
# åˆ›å»ºé¡¹ç›®
poetry new backend
cd backend

# æ ¸å¿ƒä¾èµ–
poetry add fastapi uvicorn pydantic pydantic-settings sqlalchemy alembic
poetry add langchain langchain-core langchain-community

# LLM å’Œå‘é‡å¤„ç†
poetry add langchain-qdrant qdrant-client
poetry add sentence-transformers numpy scikit-learn

# æ•°æ®åº“é©±åŠ¨
poetry add asyncpg           # PostgreSQL å¼‚æ­¥é©±åŠ¨
poetry add psycopg2-binary   # PostgreSQL åŒæ­¥é©±åŠ¨ï¼ˆå¤‡ç”¨ï¼‰

# ç¼“å­˜å’Œé˜Ÿåˆ—
poetry add redis
poetry add fastapi-cache2
poetry add celery

# å®‰å…¨å’Œè®¤è¯
poetry add python-dotenv PyJWT passlib python-multipart
poetry add pyjwt cryptography

# HTTP å’Œç½‘ç»œ
poetry add httpx aiohttp requests

# æ—¥å¿—å’Œç›‘æ§
poetry add python-json-logger

# å¼€å‘ä¾èµ–
poetry add -G dev pytest pytest-cov pytest-asyncio
poetry add -G dev black ruff mypy
poetry add -G dev httpx  # æµ‹è¯• HTTP å®¢æˆ·ç«¯
poetry add -G dev pytest-mock  # Mock æ”¯æŒ
```

### æ•°æ®åº“é…ç½®ç¤ºä¾‹

```python
# ğŸ“ {BACKEND_ROOT}/core/config.py

# å¼€å‘ç¯å¢ƒï¼šSQLite
DATABASE_URL = "sqlite:///./test.db"

# ç”Ÿäº§ç¯å¢ƒï¼šPostgreSQL
DATABASE_URL = "postgresql+asyncpg://user:password@localhost/dbname"

# å‘é‡æ•°æ®åº“ï¼šQdrant
QDRANT_URL = "http://localhost:6333"
# æˆ–ä½¿ç”¨å†…å­˜æ¨¡å¼ï¼ˆå¼€å‘ï¼‰
QDRANT_PATH = "./qdrant_storage"
```

### Qdrant å¿«é€Ÿå¯åŠ¨

```bash
# Docker å¯åŠ¨ Qdrant
docker run -p 6333:6333 qdrant/qdrant

# ä½¿ç”¨å†…å­˜æ¨¡å¼ï¼ˆå¼€å‘ï¼Œæ— éœ€ Dockerï¼‰
# åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼šfrom qdrant_client import QdrantClient
# client = QdrantClient(path="./qdrant_storage")
```

### å¿«é€Ÿå¯åŠ¨è„šæœ¬ (start.sh)

```bash
#!/bin/bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# æ•°æ®åº“è¿ç§»
alembic upgrade head

# å¯åŠ¨æœåŠ¡
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

## è¿›åŒ–è®°å½•

### 2026-01-19 v2.0.0
- **ä¿®å¤é¡¹ç›®ç»“æ„**: ç§»é™¤å¤šä½™çš„ `main/src/` å±‚çº§
- å°† `main/src/frontend/` ç§»åŠ¨åˆ° `main/frontend/`
- å°† `main/src/backend/` ç§»åŠ¨åˆ° `main/backend/`
- æ›´æ–°æ‰€æœ‰è·¯å¾„å˜é‡é…ç½®ï¼š`{PROJECT_ROOT}` = `main/`, `{FRONTEND_ROOT}` = `main/frontend/`, `{BACKEND_ROOT}` = `main/backend/`

### 2026-01-19 v1.9.0
- **ä¿®å¤å‰ç«¯è·¯å¾„é…ç½®**: `{FRONTEND_ROOT}` ä» `main/src/frontend/src/` æ”¹ä¸º `main/src/frontend/`
- æ›´æ–°å‰ç«¯ç›®å½•ç»“æ„ï¼Œæ·»åŠ æ›´å¤šå­ç›®å½•è¯´æ˜ï¼ˆrouter, styles, é…ç½®æ–‡ä»¶ç­‰ï¼‰
- æ›´æ–° frontend-developer.md ç¤ºä¾‹è·¯å¾„

### 2026-01-19 v1.7.0
- **æ–°å¢ä¸­æ–‡ä»£ç æ³¨é‡Šè§„èŒƒ**: å®šä¹‰å¿…è¦ã€é‡è¦ã€æ ¸å¿ƒä¸‰çº§æ³¨é‡Šæ ‡å‡†
- æ·»åŠ  Python å’Œ Vue/TypeScript å®Œæ•´æ³¨é‡Šç¤ºä¾‹
- åŒ…å«æ³¨é‡Šæ£€æŸ¥æ¸…å•ï¼Œæ˜ç¡®å“ªäº›æƒ…å†µéœ€è¦/ä¸éœ€è¦æ³¨é‡Š

### 2026-01-18 v1.6.0
- **æ–°å¢è‡ªåŠ¨è¿›åŒ–æœºåˆ¶**: Evolver Agent ç°åœ¨å¯ä»¥è‡ªåŠ¨æ›´æ–° project_standards.md
- **æ·»åŠ è¿›åŒ–æµç¨‹å›¾**: æ˜ç¡®è‡ªåŠ¨æ›´æ–°ä¸äººå·¥å®¡æ ¸çš„è¾¹ç•Œ
- **å®šä¹‰å¯è¿›åŒ–ç« èŠ‚**: æŠ€æœ¯æ ˆç‰ˆæœ¬ã€æœ€ä½³å®è·µã€ä»£ç ç¤ºä¾‹ã€é”™è¯¯å¤„ç†è§„èŒƒç­‰
- **æ·»åŠ ç¦æ­¢è‡ªåŠ¨æ›´æ–°åˆ—è¡¨**: è·¯å¾„é…ç½®ã€å‘½åçº¦å®šã€API è§„èŒƒéœ€è¦äººå·¥å®¡æ ¸
- **æ–°å¢éªŒè¯æ¸…å•**: æ–‡ä»¶ç»“æ„ã€è·¯å¾„å˜é‡ã€ç‰ˆæœ¬æ ¼å¼ç­‰è‡ªåŠ¨éªŒè¯

### 2026-01-18 v1.5.0
- **æ•°æ®åº“æ¶æ„ä¼˜åŒ–**ï¼šæ˜ç¡® SQLite (å¼€å‘) + PostgreSQL (ç”Ÿäº§) ç­–ç•¥
- **å‘é‡æ•°æ®åº“å‡çº§**ï¼šPinecone/Weaviate â†’ Qdrant (å¼€æºè‡ªæ‰˜ç®¡å‹å¥½)
- æ·»åŠ  LangChain-Qdrant é›†æˆ
- **å¤šå±‚ç¼“å­˜ç­–ç•¥**ï¼šFastAPI Cache2 + Redis + å†…å­˜ç¼“å­˜
- é›†æˆ AsyncPG å¼‚æ­¥ PostgreSQL é©±åŠ¨
- æ·»åŠ  Sentence-Transformers æ–‡æœ¬å‘é‡åŒ–
- è¡¥å……å®Œæ•´çš„æœ€ä½³å®è·µæŒ‡å—ï¼ˆæ•°æ®åº“ã€ç¼“å­˜ã€å‘é‡æ£€ç´¢ã€å¼‚æ­¥ï¼‰
- æä¾›ä»£ç ç¤ºä¾‹ï¼šFastAPI Cache2ã€Qdrant é›†æˆã€å¼‚æ­¥ ORMã€Celery ä»»åŠ¡

### 2026-01-18 v1.2.0
- **åç«¯å‡çº§**ï¼šNestJS (Node.js) â†’ Python FastAPI + LangChain
- å¼•å…¥ LangChain å®Œæ•´çš„å¤§æ¨¡å‹åº”ç”¨æ¡†æ¶
- æ›¿æ¢ ORMï¼šPrisma â†’ SQLAlchemy 2.x
- æ·»åŠ  Pydantic æ•°æ®éªŒè¯ï¼ˆè‡ªåŠ¨ç”Ÿæˆ JSON Schemaï¼‰
- é›†æˆ Celery å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—
- æ”¯æŒå‘é‡æ•°æ®åº“ï¼ˆPineconeã€Weaviateï¼‰
- æ·»åŠ  Poetry åŒ…ç®¡ç†å·¥å…·
- é›†æˆ Pytest å•å…ƒæµ‹è¯•
- æ›´æ–°åç«¯ç›®å½•ç»“æ„å’Œå‘½åè§„èŒƒ
- è¡¥å……å®Œæ•´çš„ Python åˆå§‹åŒ–å‘½ä»¤

### 2026-01-18 v1.1.0
- **å‰ç«¯å‡çº§**ï¼šReact â†’ Vue 3 + Vite
- å¼•å…¥ Pinia çŠ¶æ€ç®¡ç†ï¼ˆæ›¿ä»£ Zustandï¼‰
- æ·»åŠ  Vue Router è·¯ç”±ç®¡ç†
- é›†æˆ unplugin è‡ªåŠ¨å¯¼å…¥ç³»ç»Ÿ
- æ·»åŠ  Playwright E2E æµ‹è¯•
- æ›´æ–°å‰ç«¯ç›®å½•ç»“æ„å’Œå‘½åè§„èŒƒ
- è¡¥å……å®Œæ•´çš„åˆå§‹åŒ–å‘½ä»¤

### 2026-01-18 v1.0.0
- åˆå§‹åŒ–é¡¹ç›®æŠ€æœ¯æ ‡å‡†
- å®šä¹‰å‰åç«¯æŠ€æœ¯æ ˆ
- ç»Ÿä¸€å‘½åçº¦å®šå’Œ API è§„èŒƒ
