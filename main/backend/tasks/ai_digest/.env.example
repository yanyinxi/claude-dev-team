# AI 日报任务环境变量配置示例
# 复制此文件为 .env 并根据需要修改

# =====================================================
# 任务执行配置
# =====================================================
# 任务超时时间（秒）
AI_DIGEST_TIMEOUT=300

# 任务过期时间（秒）
AI_DIGEST_EXPIRE=1800

# 重试延迟（秒）
AI_DIGEST_RETRY_DELAY=180

# 最大重试次数
AI_DIGEST_MAX_RETRIES=2

# =====================================================
# 缓存配置
# =====================================================
# 是否启用缓存（true/false）
AI_DIGEST_CACHE_ENABLED=true

# 缓存有效期（秒）
AI_DIGEST_CACHE_DURATION=3600

# =====================================================
# Celery 配置
# =====================================================
# Celery broker URL
# 开发环境使用 SQLite
CELERY_BROKER_URL=sqla+sqlite:///celery.db
# 生产环境使用 Redis
# CELERY_BROKER_URL=redis://localhost:6379/0

# Celery 结果存储后端
CELERY_RESULT_BACKEND=db+sqlite:///celery_results.db
# CELERY_RESULT_BACKEND=redis://localhost:6379/1

# 时区
TIMEZONE=Asia/Shanghai

# =====================================================
# 定时任务配置
# =====================================================
# 执行小时（* 表示每小时）
AI_DIGEST_SCHEDULE_HOUR=*

# 执行分钟（0 表示整点）
AI_DIGEST_SCHEDULE_MINUTE=0

# =====================================================
# Claude CLI 配置
# =====================================================
# Claude CLI 命令
CLAUDE_CLI_COMMAND=claude

# 执行提示
AI_DIGEST_PROMPT=执行 /ai-digest 技能，生成今日 AI 日报

# =====================================================
# 健康检查配置
# =====================================================
# 是否启用健康检查（true/false）
AI_DIGEST_HEALTH_CHECK=true

# 健康检查超时（秒）
AI_DIGEST_HEALTH_CHECK_TIMEOUT=5

# =====================================================
# 数据库配置
# =====================================================
# 是否保存到数据库（true/false）
AI_DIGEST_DB_SAVE=false
